<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Manifest | Data Analysis & Visualization Platform</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23667eea'/%3E%3Cstop offset='100%25' style='stop-color:%23764ba2'/%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='32' cy='32' r='30' fill='url(%23grad)'/%3E%3Ctext x='50%25' y='54%25' text-anchor='middle' font-size='28' fill='white' font-family='system-ui, -apple-system, sans-serif' font-weight='600' dy='.3em'%3EM%3C/text%3E%3C/svg%3E">
  <link href="https://cdn.jsdelivr.net/npm/jsoneditor@9.10.2/dist/jsoneditor.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="style.css"/>
  <script src="https://cdn.jsdelivr.net/npm/jsoneditor@9.10.2/dist/jsoneditor.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/diff@5.1.0/dist/diff.min.js"></script>
</head>

<body>
  <nav class="navbar">
    <div class="brand">
      <div class="brand-logo">
        <svg width="32" height="32" viewBox="0 0 32 32">
          <defs>
            <linearGradient id="brandGrad" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#667eea"/>
              <stop offset="100%" style="stop-color:#764ba2"/>
            </linearGradient>
          </defs>
          <rect width="32" height="32" rx="8" fill="url(#brandGrad)"/>
          <text x="16" y="22" text-anchor="middle" fill="white" font-family="system-ui" font-size="18" font-weight="600">M</text>
        </svg>
      </div>
      <span class="brand-title">Manifest</span>
    </div>
    <div class="nav-links">
      <button id="nav-products" class="nav-btn">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M20 6L9 17l-5-5"/>
        </svg>
        Product & FAQ Analyzer
      </button>
      <button id="nav-customer" class="nav-btn">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"/>
          <path d="m21 21l-4.35-4.35"/>
        </svg>
        Customer Query Analyzer
      </button>
      <button id="nav-diff" class="nav-btn">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
          <polyline points="14,2 14,8 20,8"/>
          <line x1="16" y1="13" x2="8" y2="13"/>
          <line x1="16" y1="17" x2="8" y2="17"/>
          <polyline points="10,9 9,9 8,9"/>
        </svg>
        Diff Tool
      </button>
    </div>
    <div class="theme-toggle">
      <label class="switch">
        <input type="checkbox" id="themeSwitch">
        <span class="slider"></span>
      </label>
      <span id="themeLabel">Light</span>
    </div>
  </nav>

  <div id="section-products">
    <div class="section-header">
      <h1>Product & FAQ Analyzer</h1>
      <p class="section-description">Parse and visualize product data with intelligent FAQ extraction</p>
    </div>
    <textarea id="inputText" placeholder="Paste your tagged text here..."></textarea>
    <button class="primary-btn" onclick="parseAndDisplay()">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/>
      </svg>
      Analyze Data
    </button>
    <div class="products-faqs-flex">
      <div class="products-panel">
        <h3>Products</h3>
        <div class="editor-controls">
          <label>Mode: <select id="productsModeSelect"><option value="tree">Tree</option><option value="code">JSON</option></select></label>
          <button type="button" class="expand-btn" id="expandProductsBtn" title="Expand">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15,3 21,3 21,9"/>
              <polyline points="9,21 3,21 3,15"/>
              <line x1="21" y1="3" x2="14" y2="10"/>
              <line x1="3" y1="21" x2="10" y2="14"/>
            </svg>
            Expand
          </button>
        </div>
        <div id="productsContainer" class="editor"></div>
      </div>
      <div class="faqs-panel">
        <h3>FAQs</h3>
        <div class="editor-controls">
          <label>Mode: <select id="faqsModeSelect"><option value="tree">Tree</option><option value="code">JSON</option></select></label>
          <button type="button" class="expand-btn" id="expandFaqsBtn" title="Expand">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15,3 21,3 21,9"/>
              <polyline points="9,21 3,21 3,15"/>
              <line x1="21" y1="3" x2="14" y2="10"/>
              <line x1="3" y1="21" x2="10" y2="14"/>
            </svg>
            Expand
          </button>
        </div>
        <div id="faqsContainer" class="editor"></div>
      </div>
    </div>
  </div>

  <div id="section-customer" style="display:none">
    <div class="section-header">
      <h1>Customer Query Analyzer</h1>
      <p class="section-description">Analyze customer inquiries and extract product details</p>
    </div>
    <textarea id="customerQueryText" placeholder='Paste "Customer is asking about below product" data here...'></textarea>
    <button class="primary-btn" onclick="parseCustomerQuery()">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/>
      </svg>
      Analyze Query
    </button>
    <div class="editor-controls">
      <label>Mode: <select id="customerProductModeSelect"><option value="tree">Tree</option><option value="code">JSON</option></select></label>
      <button type="button" class="expand-btn" id="expandCustomerBtn" title="Expand">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="15,3 21,3 21,9"/>
          <polyline points="9,21 3,21 3,15"/>
          <line x1="21" y1="3" x2="14" y2="10"/>
          <line x1="3" y1="21" x2="10" y2="14"/>
        </svg>
        Expand
      </button>
    </div>
    <div id="customerProductContainer" class="editor"></div>
  </div>

  <div id="section-diff" style="display:none">
    <div class="section-header">
      <h1>Text Comparison Tool</h1>
      <p class="section-description">Compare text differences with advanced highlighting</p>
    </div>
    <textarea id="originalText" placeholder="Original text..."></textarea>
    <textarea id="modifiedText" placeholder="Modified text..."></textarea>
    <button class="primary-btn" onclick="showDiff()">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M9 11H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h4m6-6h4a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-4m-6 0v-8a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v8"/>
      </svg>
      Compare Texts
    </button>
    <div class="diff-split-container">
      <div class="diff-split">
        <h3>Original</h3>
        <div id="diffOutputOriginal" class="diff"></div>
      </div>
      <div class="diff-split">
        <h3>Modified</h3>
        <div id="diffOutputModified" class="diff"></div>
      </div>
    </div>
  </div>

  <!-- Fullscreen overlay for expanded editors -->
  <div id="expandOverlay" class="overlay" style="display:none">
    <div class="overlay-inner">
      <div class="overlay-header">
        <span id="overlayTitle">Expanded View</span>
        <div class="overlay-actions">
          <label>Mode: <select id="overlayModeSelect"><option value="tree">Tree</option><option value="code">JSON</option></select></label>
          <button type="button" class="close-btn" id="overlayCloseBtn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"/>
              <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
            Close
          </button>
        </div>
      </div>
      <div id="overlayEditorContainer" class="overlay-editor"></div>
    </div>
  </div>

  <script src="main.js"></script>
</body>

</html>
